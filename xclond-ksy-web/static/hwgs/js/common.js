/*!  Project : 今网科技
    +---------common.js----------+
    |                            |
    |    Author  |  yeshiqiu     |
    |    Q__Q    |  337676937    |
    |    Addr    |  SC_Chengdu   |
    |    Date    |  2019.03.14   |
    |                            |
    +--!-_-!--------------!-_-!--+
*/ function getLastNum(e){var t=e.match(/\d+/gi,function(e){return e});return(t=t[t.length-1])/1}w.Y_LazyLoad(),$b=$("body"),jQuery,function(e){var t=function(t){var a=w.scrollTop()>=1||e(".sMessageBoard").length,n="fixedNav";e(".sCase,.sSiteMap").length&&(a=!0),e(".index").length&&(n="fixedNav _vv"),a?e(ysq.wrap).addClass(n):e(ysq.wrap).removeClass(n)};w.on("scroll.navC",function(){t()}),t()}(jQuery),function(e){function t(t){if(t.length){e(".TopLine");var a=e(".BottomLine");t.css("min-height",function(){return e(this).css("min-height")||0}),e(ysq.wrap).outerHeight()<w.height()&&t.css({"min-height":w.height()-(void 0==ysq._dpr?ptb(t,0)+ptb(t,1):0)-t.offset().top-(e(ysq.wrap).outerHeight()-a.offset().top)})}}t(e(".subpage")),t(e(".index"))}(jQuery),function(e){ysq.IsMoble&&e(".banner video").each(function(t,a){a.pause(),e(a).parent().remove()})}(jQuery),function(e){$b.on("mousemove.parallax",function(t){e(this);var a=$b;e(".hang,.slogan .bg",a).each(function(n,o){if(a.length&&inWindow(e(o))){var i={x:t.pageX,y:t.pageY},s={x:w.width()/2,y:w.height()/2},l={x:i.x-s.x-w.scrollLeft(),y:i.y-s.y-w.scrollTop()};e(o).css({transform:"translate("+.01*l.x+"px,"+.01*l.y+"px)"})}})}).trigger("mousemove.parallax")}(jQuery),function(e){$b.delegate(".module-Scrollbox","mouseenter",function(){var t=e(this);if(t.hasClass("disable"))return!1;t[0].Y_timer2&&clearTimeout(t[0].Y_timer2);var a=t.hasClass("y")?"y":"x";("x"==a?e(".overview",t).width()>e(".viewport",t).width():e(".overview",t).height()>e(".viewport",t).height())?(e(".overview",t).addClass("mousein"),t[0].unbindable||t.tinyscrollbar({wheelLock:!1,trackSize:e(".sComments").length?.375*w.width():null,thumbSize:e(".sComments").length?.375*w.width()/5:null,axis:a,wheelSpeed:40,wheel:!0}),t[0].unbindable=!0,t.find(".scrollbar").stop(!1,!1).fadeIn().data("MsFlag",!0)):t.find(".scrollbar").hide(),t.data("MsFlag")&&t.data("plugin_tinyscrollbar").update("relative")}).delegate(".module-Scrollbox","mouseleave",function(){var t=e(this);if(t.hasClass("disable"))return!1;e(".overview",t).removeClass("mousein"),t[0].Y_timer2=setTimeout(function(){e(".scrollbar",t).stop(!0,!0).fadeOut()},300)}),ysq.IsMoble&&e(".module-Scrollbox").trigger("mouseenter")}(jQuery),function(e){w.on("scroll.numCountUp",function(t){ysq.shutDown||e(".numCountUp").each(function(t,a){if(inWindow(e(a))&&!e(a).hasClass("bindedFn")){var n=new CountUp(a,e(a).attr("data-startVal")||0,e(a).attr("data-endVal"),e(a).attr("data-decimals")||0,2);setTimeout(function(){n.start()},100*t+(parseInt(e(a).attr("data-delay"))||0)),e(a).addClass("bindedFn")}})}).trigger("scroll.numCountUp")}(jQuery),function(e){e(".index-news").Y_Tab({contain:".index-news-contain"}),e(".index-news-switch").Y_Move({transparent:!0,slidable:!1,IsPaging:!0,TimeOut:3})}(jQuery),function(e){var t="#ajaxList";if(e(t).length){var n=!0,o=parseInt(e(t).attr("pageNum"))||1,i=0,s={do:"MORE+",ing:"加载中",done:"已加载全部",redo:"请点击重试",timeout:"请求超时，请点击重试"};Global.ajaxPaging=function(a,l){e("#loadState").hasClass("off")||n&&e.ajax({url:a,type:"POST",dataType:"HTML",timeout:5e3,beforeSend:function(){var e=!!l;Global.setState(e,s.ing,1),i=(new Date).getTime()},success:function(n,l,r){var d=500-((new Date).getTime()-i);setTimeout(function(){e(n).find(t).children(".itemPackage").length?(o=Number(a.match(/\d+/)[0]),e(t).attr("pageNum",o),e(t).append(e(n).find(t).html()),fnScrollElePd(e(t))&&(e.fn.Y_ScrollEle.Init(e(t)),e.fn.Y_ScrollEle.Do(e(t),0,!0)),fnLazyloadPd(e(t))&&e.fn.Y_LazyLoad.Init(e(t)),isNull(e(t).data("callback"))||e(t).data("callback")(),e(t).children(".itemPackage").length%(e(t).attr("pageSize")||8)==0?Global.setState(!0,s.do,3):Global.setState(!1,s.done,2)):Global.setState(!1,s.done,2)},d<1?1:d)},error:function(e,t,a){var n=500-((new Date).getTime()-i);setTimeout(function(){"Not Found"==a?Global.setState(!1,s.done,2):"timeout"==a?Global.setState(!0,s.timeout,3):Global.setState(!0,s.redo,3)},n<1?1:n)}})},Global.setState=function(a,o,i){var s=e("#loadState").attr("nextPage");switch(i){case 1:e("#loadState").attr("class","ing");break;case 2:e("#loadState").attr("class","off").removeAttr("nextPage").off("click.retry");break;case 3:e("#loadState").attr("class","retry").attr("nextPage",s.replace(getLastNum(s),e(t).attr("pageNum")/1+1));break;default:ysq.TT&&cw("使用方法错误")}n=a,e("#loadState").text(o)},e("#loadState").length||e(t).after('<div id="loadState" class="retry" nextPage="index_'+(o+1)+'.html">查看更多 +</div>'),w.load(function(){e(t).children(".itemPackage").length<parseInt(e(t).attr("pageSize")||8)?e(t).children(".itemPackage").length?Global.setState(!1,s.done,2):Global.setState(!1,"暂无",2):e(t).children(".itemPackage").length>parseInt(e(t).attr("pageSize")||8)?(a("目前列表分页个数为："+parseInt(e(t).attr("pageSize")||8)+" ！\n已超出，请重新设置分页个数。"),Global.setState(!0,"分页设置出错，请重新设置。",3)):Global.setState(!0,s.do,3),$b.delegate("#loadState",TouchEd,function(t){Global.ajaxPaging(e(this).attr("nextPage"))}),w.scroll(function(){n&&inWindow(e("#loadState"))&&Global.ajaxPaging(e("#loadState").attr("nextPage"))})})}}(jQuery),function(e){function t(e,t,a,n,o){if(e.length){var i=0,s=e.outerHeight(),l=t.offset().top,r=a.offset().top,d=w.height(),c=w.scrollTop(),u=o||(d-s)/2;i=c<l&&l-c>=u?l-c+n[0]:c+s+u<r?u:r-c-s-n[1],e.css({top:i})}}w.on("resize.set100vhBanner",function(t){e(".sCase .subpage-banner,.sCase-banner,.fullHeight").css({height:w.height()})}).trigger("resize.set100vhBanner"),w.on("scroll.setVerticalX",function(a){t(e(".floatRight"),e(".TopLine"),e(".BottomLine"),[5,5],0),t(e(".floatFns"),e(".TopLine"),e(".BottomLine"),[5,5],0),function(e,t,a,n,o){if(e.length){var i=0,s=e.outerHeight(),l=t.offset().top,r=a.offset().top,d=w.scrollTop(),c=w.height()-86;i=d<l&&l-d>=c?l-d+n[0]:d+s+c<r?c:r-d-s-n[1]-60,e.css({top:i})}}(e(".toolsPN"),$b,e(".sCase-tail .dd"),[0,0]),w.scrollTop()>1?e(".toolsPN").addClass("followed"):e(".toolsPN").removeClass("followed")}).trigger("scroll.setVerticalX"),e(".arrowTips s").click(function(e){Fn_BodyScroll({goal:w.height()-88})})}(jQuery),function(e){e(".subpage-nav").Y_NavSlideBlock({tag:"div",item:".link",blockSize:100/e(".subpage-nav .link").length+"%"})}(jQuery),function(e){e(".trigger-album").length&&($b.append('<div id="albumWindow"> <a class="close btn">╳\x3c!-- ㄨ --\x3e</a><div class="contain"><div class="shade"> <ul class="list0 box"> </ul> </div><div class="tips"> (点击图片查看原图) </div></div><a class="ctr prev abtnBd"><s>&lt;</s></a><a class="ctr next abtnBd"><s>&gt;</s></a></div>'),setTimeout(function(){e(".trigger-album").find(".item").addClass("btn"),e("#albumWindow").Y_ModalAlbum({triggerList:".trigger-album",item:".item",pad:[0,0,48,0],IsDrag:!0,HasTitle:!0,synchro:!0,serialNum:!1,IsIcon:!1,shade:!1,fn:{openFn:function(t,a,n){e("#newBridge").addClass("b0")},closeFn:function(t,a,n){e("#newBridge").removeClass("b0")}}})},200))}(jQuery),jQuery(".sBusiness-fullpage").Y_Move({IsLoop:!1,IsDrag:!1,IsPaging:!0,transparent:!0,slidable:!1,synchro:!0,fn:{after:function(e){var t=e[0];e.mousewheel(function(a){return!!t.ysqble&&(a.deltaY<0?t.idx==e.find(".item").length-1||(t.next(),!1):0==w.scrollTop()?(t.prev(),!1):void 0)}),setTimeout(function(){e.find(".ctrBox").addClass("show")},200)}}}),jQuery(".sBusiness-sem-cases-switch").Y_Move({duration:800,transparent:!0,itemInit:!0,slidable:!1,stopable:!0,synchro:!0,InOut:!0,TimeOut:5,IsPaging:!0}),function(e){w.on("scroll.backToTop",function(){w.scrollTop()>w.height()?e(".backToTop").addClass("actived").on("click.backToTop",function(){Y_BodyScroll({goal:0,err:0,dur:600})}):e(".backToTop").off("click.backToTop").removeClass("actived")}).trigger("scroll.backToTop")}(jQuery),jQuery(document).ready(function(e){w.on("resize.baset",function(t){clearTimeout(this.resizeTimer),window.innerWidth>Global.resWidth?Global.device="pc":Global.device="wap",setTimeout(function(){e(".resImg").each(function(t,a){e(a).attr("src",function(t,n){var o="";return e.each(e(a).attr("data-src").split("|"),function(e,t){t=t.split(","),w.width()<=t[0]&&(o=t[1])}),o})})},1),w.data("device_status")!=Global.device&&("pc"==Global.device?($h.addClass(Global.device).removeClass("wap"),e(".header").removeClass("navshow").find(".subnav").hide()):"wap"==Global.device&&$h.addClass(Global.device).removeClass("pc"),w.data("device_status",Global.device)),this.resizeTimer=setTimeout(function(){w.trigger("scroll")},100)}).trigger("resize.baset"),function(e){e(".navbtn").click(function(e){$b.hasClass("navShow")?($b.removeClass("navShow"),unlockScroll()):($b.addClass("navShow"),lockScroll())}),e(".modal-nav .close").click(function(e){$b.removeClass("navShow"),unlockScroll()}),e(".modal-nav-list").find(".item").on("click.nav",function(t){var a=e(this);if(a.find(".dd").length&&a.find(".dd").is(":hidden"))return a.siblings(".item").removeClass("on").find(".dd").slideUp(200),a.addClass("on").find(".dd").slideDown(400),prevent_default(t)})}(jQuery),function(e){var t=e(".subNav"),a=e(".viewport",t),n=e(".overview",t),o=e(".link.on",t);n.outerWidth()>a.outerWidth()&&o.length&&a.scrollLeft(o.offset().left+a.scrollLeft()-a.offset().left+o.outerWidth()/2-a.outerWidth()/2)}(jQuery),function(e){e(".qa-List,.hr-List").delegate(".show","click",function(t){var a=e(this).parents(".item"),n=e(this).find(".btn span");n.length&&("展开全部信息"==n.text()?n.text("收起全部信息"):n.text("展开全部信息")),a.hasClass("unfold")?a.removeClass("unfold").find(".hide").slideUp(200):a.addClass("unfold").find(".hide").slideDown(200)})}(jQuery)});
